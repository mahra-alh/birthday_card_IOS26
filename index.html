<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <meta name="apple-mobile-web-app-capable" content="yes">
  <link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@700&family=Outfit:wght@800&display=swap" rel="stylesheet">
  <title>üéâ Happy Birthday Salem</title>
  <style>
    :root{ --bg1:#111827; --bg2:#1f2937; --text:#ffffff; }
    *{box-sizing:border-box}
    html,body{height:100%;margin:0}
    body{
      background: radial-gradient(1200px 800px at 80% -10%, #2f3b59, transparent 60%),
                  linear-gradient(160deg,var(--bg1),var(--bg2));
      color:var(--text);
      font-family: Inter, system-ui,-apple-system,Segoe UI,Roboto,Arial;
      -webkit-font-smoothing: antialiased;
      overflow:hidden;
    }

    .cake-wrap{
      position:relative;
      aspect-ratio:1/1;
      width:100%;
      max-width:min(400px,80vw);
      margin:0 auto;
      display:flex;
      flex-direction:column;
      align-items:center;
    }

    .cake-title{
      font-family: 'Outfit', system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      font-weight: 800;
      font-size: clamp(32px, 6vw, 48px);
      color: #fff;
      margin: 0 0 10px 0;
      letter-spacing: 1px;
      text-shadow: 0 2px 8px rgba(0,0,0,.45);
    }

    /* Instruction under the cake */
    .card-instruction{
      font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      font-weight: 500;
      font-size: clamp(14px, 3.6vw, 18px);
      background: linear-gradient(135deg, #a8daff 0%, #ffd89b 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      opacity: .95;
      margin: 14px 0 0 0;
    }

    .letter-emoji{
      position: absolute;
      left: 0;
      right: 0;
      bottom: clamp(33px, 9vw, 63px);
      font-size: clamp(48px, 12vw, 80px);
      line-height: 1;
      text-align: left;
      cursor: pointer;
      user-select: none;
      -webkit-user-select: none;
      background: transparent;
      border: 0;
      padding: 0;
      margin: 0;
      appearance: none;
      -webkit-appearance: none;
      box-shadow: none;
      -webkit-tap-highlight-color: transparent;
      outline: none;

      --gap: 0.99em;
      --hand-scale: 0.85;
    }

    .emoji-letter{
      position: absolute;
      left: 50%;
      transform: translateX(-50%);
      line-height: 1;
    }
    .emoji-hand{
      position: absolute;
      left: calc(50% + var(--gap));
      transform: translateX(-50%) scale(var(--hand-scale));
      line-height: 1;
    }

    .wrap{ position:relative; height:100%; padding:24px; display:flex; align-items:center; justify-content:center; }
    .card{
      width:min(720px,92vw); border-radius:24px;
      backdrop-filter: blur(10px);
      background: rgba(255,255,255,0.1);
      border:1px solid rgba(255,255,255,0.2);
      padding: clamp(18px,3.5vw,36px);
      text-align:center; position:relative; z-index:2;
      box-shadow: 0 20px 60px rgba(0,0,0,0.4);
      background-color: rgba(30, 41, 59, 0.8);
    }
    .headline-svg{
      display:block; max-width:620px; width:100%; height:130px;
      transform: translateY(48px); margin: 0 auto -48px !important; overflow:visible;
    }
    .birthday-image{
      display:block; margin:0 auto; width:100%; max-width:min(400px,80vw);
      height:auto; cursor:pointer; transition: transform .2s ease;
    }
    .birthday-image:active{ transform: scale(0.98); }

    .footer{ opacity:.8; font-size:12px; margin-top:10px }

    @keyframes float{ 0%{transform:translateY(0)} 100%{transform:translateY(-120vh)} }
    .balloon{ position:absolute; left:var(--x); bottom:-70px; width:90px; height:112px;
      transform-origin:center bottom; animation: float var(--dur) linear var(--delay) infinite; --c:#ff6ea3; overflow:visible; }
    .balloon-svg{ display:block; width:100%; height:100%; color:var(--c); filter: drop-shadow(0 10px 16px rgba(0,0,0,.35)); }

    canvas#confetti{ position:fixed; inset:0; pointer-events:none; z-index:3 }

    .pop-in{ animation: pop .45s ease-out both; }
    @keyframes pop{ 0%{ transform: scale(.6); opacity:0; } 60%{ transform: scale(1.08); opacity:1; } 100%{ transform: scale(1); } }

    @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

    .cake-wrap svg{ width:100%; height:100%; display:block; }

    .svg-flame { transform-box: fill-box; transform-origin: 50% 100%; filter: drop-shadow(0 0 6px rgba(255,180,60,.75)); }
    .svg-flame .core { animation: flicker .9s infinite; }
    .svg-flame.fl2 .core { animation-duration: 1.05s; animation-delay: .12s; }

    @keyframes flicker{
      0%{ transform: rotate(-2deg) scaleY(.98); opacity:.95 }
      25%{ transform: rotate(1deg)  scaleY(1.04); opacity:1 }
      50%{ transform: rotate(-1deg) scaleY(1.00); opacity:.92 }
      75%{ transform: rotate(2deg)  scaleY(1.03); opacity:1 }
      100%{ transform: rotate(0)    scaleY(1.00); opacity:.95 }
    }

    .extinguish { animation: fadeOut .25s ease-out forwards; }
    @keyframes fadeOut { to { opacity: 0; filter: none; } }

    .puff{
      position:absolute; left:var(--x); top:var(--y);
      transform: translate(-50%,-110%);
      width: clamp(10px, 2vw, 18px); height: clamp(10px, 2vw, 18px);
      border-radius:50%;
      background: radial-gradient(circle at 40% 40%, rgba(255,255,255,.9), rgba(200,200,200,0) 70%);
      opacity:.9; filter: blur(0.5px); pointer-events:none; animation: puff 700ms ease-out forwards; z-index: 2;
    }
    @keyframes puff{ 0%{ transform:translate(-50%,90%) scale(.8); opacity:.9; } 100%{ transform:translate(-50%,-10%) scale(1.8); opacity:0; } }
  </style>
</head>
<body>
  <canvas id="confetti"></canvas>

  <!-- Balloons -->
  <div class="balloon" style="--x:8vw;  --dur:13s; --delay:-1s;  --c:#ff57b3;">
    <svg class="balloon-svg" viewBox="0 0 200 260" aria-hidden="true"><use href="#balloon-shape"></use></svg>
  </div>
  <div class="balloon" style="--x:22vw; --dur:15s; --delay:-4s;  --c:#7afcff;">
    <svg class="balloon-svg" viewBox="0 0 200 260" aria-hidden="true"><use href="#balloon-shape"></use></svg>
  </div>
  <div class="balloon" style="--x:36vw; --dur:12s; --delay:-2.5s;--c:#ffd166;">
    <svg class="balloon-svg" viewBox="0 0 200 260" aria-hidden="true"><use href="#balloon-shape"></use></svg>
  </div>
  <div class="balloon" style="--x:58vw; --dur:16s; --delay:-6s;  --c:#b6ffb3;">
    <svg class="balloon-svg" viewBox="0 0 200 260" aria-hidden="true"><use href="#balloon-shape"></use></svg>
  </div>
  <div class="balloon" style="--x:74vw; --dur:14s; --delay:-3.3s;--c:#ff9aa2;">
    <svg class="balloon-svg" viewBox="0 0 200 260" aria-hidden="true"><use href="#balloon-shape"></use></svg>
  </div>
  <div class="balloon" style="--x:88vw; --dur:17s; --delay:-5.2s;--c:#c9b6ff;">
    <svg class="balloon-svg" viewBox="0 0 200 260" aria-hidden="true"><use href="#balloon-shape"></use></svg>
  </div>

  <!-- Balloon defs (kept once) -->
  <svg xmlns="http://www.w3.org/2000/svg" style="position:absolute;width:0;height:0;overflow:hidden;">
    <symbol id="balloon-shape" viewBox="0 0 200 340">
      <path d="M100 14 C146 14 180 58 180 110 C180 165 137 206 101 220 C 99 221 99 221 100 222 C 63 206 20 165 20 110 C20 58 54 14 100 14Z" fill="currentColor"/>
      <ellipse cx="138" cy="60" rx="22" ry="14" fill="white" opacity=".65" transform="rotate(16 138 60)"/>
      <radialGradient id="innerShade" cx="50%" cy="88%" r="60%"><stop offset="0%" stop-color="black" stop-opacity=".18"/><stop offset="60%" stop-color="black" stop-opacity="0"/></radialGradient>
      <ellipse cx="100" cy="190" rx="76" ry="60" fill="url(#innerShade)"/>
      <path d="M100 222 C100 236,  90 248, 100 258 S110 280, 100 296 S 90 320, 100 340 S110 360, 100 380" fill="none" stroke="rgba(255,255,255,0.7)" stroke-width="1.2" stroke-linecap="round" vector-effect="non-scaling-stroke"/>
      <ellipse cx="100" cy="225" rx="4" ry="6" fill="currentColor" opacity="0.8"/>
    </symbol>
  </svg>

  <div class="wrap">
    <div class="card">
      <!-- Headline -->
      <svg id="headline" class="headline-svg" viewBox="0 0 600 160" role="img" aria-label="Click to Open">
        <defs><path id="headline-arc" d="M40 120 A 300 300 0 0 1 560 120" /></defs>
        <text font-family="Fredoka, sans-serif" font-weight="700" font-size="70px" fill="#ffffff" text-anchor="middle" transform="translate(0,10)">
          <textPath xlink:href="#headline-arc" startOffset="50%">Click to Open</textPath>
        </text>
      </svg>

      <!-- Gift Box -->
      <img id="giftImage" src="gift_box.svg"
          class="birthday-image" role="button" tabindex="0"
          alt="Gift Box" aria-label="Open the gift" />

      <!-- Footer -->
      <div class="footer">Made with ‚ù§Ô∏è by <span id="from">Mahra</span></div>
    </div>
  </div>

  <!-- All logic moved to script.js -->
  <script src="script.js" defer></script>
</body>
</html>
